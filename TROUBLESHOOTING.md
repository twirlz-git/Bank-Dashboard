# Troubleshooting Guide

## –†–µ—à–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

---

## 1. ‚ö†Ô∏è LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –±–∞–∑–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞
–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:
- "‚ö†Ô∏è LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω - –±–∞–∑–æ–≤–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ"
- "–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–Ω–∞–ª–∏–∑" –≤ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞—Ö
- "LLM –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"

### –ü—Ä–∏—á–∏–Ω–∞
–ü–∞–∫–µ—Ç `openai` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –≤–∞—à–µ–π Python-—Å—Ä–µ–¥–µ.

### –†–µ—à–µ–Ω–∏–µ

**–®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É openai**
```bash
pip show openai
```

–ï—Å–ª–∏ –ø–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —à–∞–≥—É 2.

**–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
pip install -r requirements.txt
```

–ò–õ–ò —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–ª—å–∫–æ openai:
```bash
pip install openai>=1.3.0
```

**–®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
```bash
streamlit run run.py
```

**–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å**
–í –±–æ–∫–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
- "‚úÖ LLM-—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ"
- "ü§ñ –ú–æ–¥–µ–ª—å: tngtech/deepseek-r1t2-chimera:free"

---

## 2. ‚ùå ValueError: Cannot convert {...} to Excel

### –ü—Ä–æ–±–ª–µ–º–∞
```
ValueError: Cannot convert {'key': 'value'} to Excel
```

### –ü—Ä–∏—á–∏–Ω–∞
Excel –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Ö—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–≤–∞—Ä–∏ (dict) –∏–ª–∏ —Å–ø–∏—Å–∫–∏ (list).

### –†–µ—à–µ–Ω–∏–µ
–≠—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞ **—É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞** –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –∫–æ–º–º–∏—Ç–µ.

**–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥:**
```bash
git pull origin feature/trends-mode-search-based
```

–ò–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Å–≤–µ–∂—É—é –≤–µ—Ä—Å–∏—é:
```bash
git clone -b feature/trends-mode-search-based https://github.com/twirlz-git/Bank-Dashboard.git
```

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `_convert_value_for_excel()`
- –°–ª–æ–≤–∞—Ä–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ —Å—Ç—Ä–æ–∫—É: "key: value; key: value"
- –°–ø–∏—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤: "item1, item2, item3"
- Bool –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤: "–î–∞" / "–ù–µ—Ç"

---

## 3. üê¢ –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Excel

### –ü—Ä–æ–±–ª–µ–º–∞
–í XLSX-—Ñ–∞–π–ª–µ –µ—Å—Ç—å –≤–∫–ª–∞–¥–∫–∞ "–ì—Ä–∞—Ñ–∏–∫–∏", –Ω–æ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –Ω–µ—Ç.

### –ü—Ä–∏—á–∏–Ω–∞
–ü–∞–∫–µ—Ç `kaleido` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–Ω—É–∂–µ–Ω –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ Plotly –≤ PNG).

### –†–µ—à–µ–Ω–∏–µ
```bash
pip install kaleido>=0.2.1
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

---

## 4. üêç –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞
–ü–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –Ω–æ Streamlit –∏—Ö –Ω–µ –≤–∏–¥–∏—Ç.

### –ü—Ä–∏—á–∏–Ω–∞
Streamlit –∑–∞–ø—É—â–µ–Ω –≤ –¥—Ä—É–≥–æ–º Python-–æ–∫—Ä—É–∂–µ–Ω–∏–∏.

### –†–µ—à–µ–Ω–∏–µ

**Windows:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python
where python
python --version

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ pip
pip -V

# –°–æ–∑–¥–∞–π—Ç–µ venv
python -m venv venv
venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
streamlit run run.py
```

**Linux/Mac:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Python
which python
python --version

# –°–æ–∑–¥–∞–π—Ç–µ venv
python -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
streamlit run run.py
```

---

## 5. üîë API –∫–ª—é—á OpenRouter –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞
LLM –≤–∫–ª—é—á—ë–Ω, –Ω–æ –∑–∞–ø—Ä–æ—Å—ã –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–∞–º–∏ 401/403.

### –ü—Ä–∏—á–∏–Ω–∞
API-–∫–ª—é—á –Ω–µ–≤–∞–ª–∏–¥–µ–Ω, –∏—Å—Ç—ë–∫ –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.

### –†–µ—à–µ–Ω–∏–µ

**–®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://openrouter.ai/](https://openrouter.ai/)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Keys ‚Üí Create Key
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á (sk-or-v1-...)

**–®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç–µ –∫–ª—é—á –≤ –∫–æ–¥–µ**

–í–∞—Ä–∏–∞–Ω—Ç 1 (—á–µ—Ä–µ–∑ .env):
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
OPENROUTER_API_KEY=sk-or-v1-YOUR_KEY_HERE
```

–í–∞—Ä–∏–∞–Ω—Ç 2 (–Ω–∞–ø—Ä—è–º—É—é –≤ –∫–æ–¥–µ):
–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `modules/llm_comparator.py`:
```python
self.api_key = "sk-or-v1-YOUR_NEW_KEY_HERE"
```

**–®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ**
```bash
streamlit run run.py
```

---

## 6. üìà –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI

### –ü—Ä–æ–±–ª–µ–º–∞
–í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Streamlit –Ω–µ—Ç –≥—Ä–∞—Ñ–∏–∫–æ–≤.

### –†–µ—à–µ–Ω–∏–µ

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ plotly:**
```bash
pip show plotly
```

–ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:
```bash
pip install plotly>=5.18.0
```

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:**
```bash
streamlit run run.py
```

---

## 7. üö´ –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock-–¥–∞–Ω–Ω—ã–µ

### –ü—Ä–æ–±–ª–µ–º–∞
–ë–µ–π–¥–∂ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫-–¥–∞–Ω–Ω—ã–µ"

### –ü—Ä–∏—á–∏–Ω–∞
1. –ù–µ—Ç JSON-—Ñ–∞–π–ª–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –±–∞–Ω–∫–∞/–ø—Ä–æ–¥—É–∫—Ç–∞
2. –û—à–∏–±–∫–∞ –≤ `HistoricalDataGenerator`

### –†–µ—à–µ–Ω–∏–µ

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤:**
```
configs/bank_data/
  - 8_alfabank_credit.json  # –ê–ª—å—Ñ–∞ + –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞
  - 4_vtb_credit.json       # –í–¢–ë + –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞
  - ...
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
–í –∫–æ–Ω—Å–æ–ª–∏ Streamlit –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
INFO - Loaded data from 8_alfabank_credit.json
INFO - Generated timeline from real data: 5 points
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:
```
WARNING - No data found for –ê–ª—å—Ñ–∞ credit_card
```

–ó–Ω–∞—á–∏—Ç, —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç.

---

## üìû –ü–æ–º–æ—â—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
3. –ü—Ä–∏–ª–æ–∂–∏—Ç–µ stacktrace –∏ –ª–æ–≥–∏

---

## ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –Ω—É–ª—è

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
git clone -b feature/trends-mode-search-based https://github.com/twirlz-git/Bank-Dashboard.git
cd Bank-Dashboard

# 2. –°–æ–∑–¥–∞—Ç—å venv
python -m venv venv

# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
streamlit run run.py
```

**–ì–æ—Ç–æ–≤–æ!** üéâ
